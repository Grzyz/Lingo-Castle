<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mastery English - Premium</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <div class="blob"></div><div class="blob-2"></div>

    <div class="app-container">
        <div id="profile-page" class="page">
            <header style="margin-bottom: 30px;">
                <p style="color: #64748b; font-weight: 700; margin: 0; font-size: 12px; letter-spacing: 1.5px; text-transform: uppercase;">website belajar bahasa inggris by : @Kmflh28</p>
                <h1 style="font-weight: 800; margin: 5px 0; font-size: 32px; letter-spacing: -1px;">Lingo Castle</h1>
            </header>
            <div class="glass-box user-section" style="margin-bottom: 20px; display: flex; align-items: center; gap: 15px;">
    <div class="avatar-circle">üëë</div>
    <div style="flex-grow: 1;">
        <p style="margin:0; font-size:10px; color:#64748b; font-weight: 800; letter-spacing: 1px;">PLAYER NAME</p>
        <input type="text" id="username-input" placeholder="Set Username..." 
               style="border: none; background: none; font-size: 20px; font-weight: 800; color: var(--dark); width: 100%; outline: none; padding: 0;"
               onchange="saveUsername()">
    </div>
</div>

            <div class="stats-grid">
                <div class="stat-card xp-gradient">
                    <div class="stat-value" id="display-xp">0</div>
                    <div class="stat-label">Total XP</div>
                </div>
                <div class="stat-card rank-gradient">
                    <div class="stat-value" id="display-rank-name">Pengembara</div>
                    <div class="stat-label" id="display-rank-code">A1</div>
                </div>
            </div>

            <div class="glass-box" style="display: flex; justify-content: space-between; align-items: center; border-left: 6px solid var(--primary);">
                <div>
                    <p style="margin:0; font-size:12px; color:#64748b; font-weight: 700;">PROGRES SAAT INI</p>
                    <h2 style="margin:0; color:var(--primary); font-size: 24px;" id="display-stage">Stage 1</h2>
                </div>
                <div style="text-align: right;">
                    <p style="margin:0; font-size:12px; color:#64748b; font-weight: 700;">LEVEL</p>
                    <b id="display-lv" style="font-size: 24px;">1</b>
                </div>
            </div>

            <div class="glass-box">
                <p style="font-size: 11px; font-weight: 800; color: #94a3b8; margin-bottom: 12px; letter-spacing: 1px;">KAMUS DATA CEPAT</p>
                <div class="search-wrapper">
                    <input type="text" id="search-input" placeholder="üîç Cari kosa kata..." oninput="handleSearch()" 
                           style="width:100%; padding:15px; border-radius:15px; border:2px solid #eef2f6; outline:none; font-family:inherit; font-weight:600;">
                </div>
                <div id="search-results" class="search-results-container"></div>
            </div>
        </div>

        <div id="replay-page" class="page hidden">
            <h1 style="font-weight:800; margin-bottom: 25px;">Replay Mode üîÑ</h1>
            <div id="replay-setup" class="glass-box">
                <p style="font-size:14px; font-weight: 600; color: #64748b; margin-bottom: 15px;">Akses level 1 s/d 5000:</p>
                <div style="display:flex; gap:12px; margin-bottom:20px;">
                    <input type="number" id="replay-from" placeholder="Dari" style="width:100%; padding:15px; border-radius:15px; border:2px solid #eef2f6; outline:none; font-weight: 700;">
                    <input type="number" id="replay-to" placeholder="Ke" style="width:100%; padding:15px; border-radius:15px; border:2px solid #eef2f6; outline:none; font-weight: 700;">
                </div>
                <button class="btn-primary marathon" onclick="startMarathonReplay()" 
                        style="background: var(--secondary); border-bottom: 5px solid #5b4bc4; text-transform: uppercase; letter-spacing: 1px;">
                    Mulai Maraton
                </button>
            </div>
            <div id="replay-quiz-area" class="hidden">
                <div class="quiz-box">
                    <p id="replay-progress-text" style="font-weight:800; color:var(--secondary); margin-bottom: 10px;"></p>
                    <h2 id="replay-question-text" style="font-size: 36px; margin: 20px 0;">Word</h2>
                    <div class="options-grid" id="replay-options-container"></div>
                    <button class="btn-idk" onclick="exitReplay()" style="margin-top: 20px; background: #f1f5f9; border: none; color: #64748b;">KEMBALI KE MENU</button>
                </div>
            </div>
        </div>

        <div id="review-page" class="page hidden">
    <header style="margin-bottom: 25px;">
        <p style="color: #64748b; font-weight: 700; margin: 0; font-size: 11px; letter-spacing: 1px; text-transform: uppercase;">Penguasaan Kata</p>
        <h1 style="font-weight:800; margin: 5px 0; font-size: 32px; letter-spacing: -1px;">Review üéØ</h1>
    </header>

    <div id="review-intro">
        <div class="glass-box review-card-main">
            <h1 id="mistake-count" class="count-big">0</h1>
            <p class="count-label">Kata Perlu Perbaikan</p>
            
            <button class="btn-perbaiki" onclick="startReview()">
                ‚ú® PERBAIKI SEKARANG
            </button>
            <div class="card-line"></div>
        </div>

        <div style="display: flex; justify-content: space-between; align-items: center; margin: 30px 5px 15px;">
            <h3 style="margin:0; font-size: 16px; font-weight: 800;">Riwayat Perbaikan</h3>
            <button class="btn-clear-mini" onclick="clearAllHistory()">Hapus Semua</button>
        </div>
        
        <div id="history-list" class="history-container">
            </div>
    </div>

    <div id="review-quiz-container" class="hidden">
        <button class="btn-back-minimal" onclick="exitReviewMode()">‚Üê Kembali ke Menu</button>
        <div class="quiz-box review-mode">
            <span class="mode-badge">Mode Perbaikan</span>
            <h2 id="review-question-text" style="font-size: 36px; margin: 20px 0;">Word</h2>
            <div class="options-grid" id="review-options-container"></div>
        </div>
    </div>
</div>

        <div id="game-page" class="page hidden">
            <div class="game-top" style="margin-bottom: 30px; padding: 15px; border: 2px solid #eef2f6;">
                <div id="game-stage-text" style="font-weight:800; font-size:14px; color: var(--primary);">Stage 1</div>
                <div class="bar-outer"><div id="xp-bar" class="bar-inner"></div></div>
                <div id="game-xp-info" style="font-weight:800; font-size:12px; color: #64748b;">0/100 XP</div>
            </div>
            <div class="quiz-box" style="box-shadow: 0 15px 35px rgba(0,0,0,0.05); padding: 40px 20px;">
                <span style="background: #f1f5f9; padding: 6px 15px; border-radius: 20px; font-size: 11px; font-weight: 800; color: #64748b; text-transform: uppercase;">Level <span id="game-lv-text">1</span></span>
                <h2 id="question-text" style="font-size: 42px; margin: 25px 0; letter-spacing: -1px;">Loading...</h2>
                <div class="options-grid" id="options-container"></div>
                <button class="btn-idk" onclick="handleDontKnow()" 
                        style="background: none; border: 2px solid #e2e8f0; color: #94a3b8; border-radius: 15px; font-size: 13px; margin-top: 25px;">
                     TIDAK TAHU
                </button>
            </div>
        </div>
    </div>

    <nav class="bottom-nav" id="main-nav" style="box-shadow: 0 -10px 30px rgba(0,0,0,0.05); border-top: none; padding: 15px 10px;">
        <div class="nav-item active" id="nav-profile" onclick="showPage('profile')">üë§<span>Profil</span></div>
        <div class="nav-item" id="nav-replay" onclick="showPage('replay')">üîÑ<span>Replay</span></div>
        <div class="nav-item" id="nav-review" onclick="showPage('review')">üéØ<span>Review</span></div>
        <div class="nav-item" id="nav-game" onclick="showPage('game')">üéÆ<span>Main</span></div>
    </nav>

    <script src="script.js"></script>
</body>
</html>